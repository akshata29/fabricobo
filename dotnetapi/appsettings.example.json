{
  // ════════════════════════════════════════════════════════════════
  // Entra ID (Azure AD) Configuration
  //
  // The API app registration (confidential client) that validates
  // incoming JWTs and performs OBO token exchange.
  //
  // Docs: https://learn.microsoft.com/entra/identity-platform/quickstart-web-api-aspnet-core
  // ════════════════════════════════════════════════════════════════
  "AzureAd": {
    "Instance": "https://login.microsoftonline.com/",
    "TenantId": "",
    "ClientId": "",
    "ClientSecret": "",

    // The audience this API expects in the JWT "aud" claim.
    // Typically "api://<CLIENT_ID>" matching the Expose an API setting.
    "Audience": "",

    // Scopes exposed by this API (for reference; validated by [Authorize]).
    "Scopes": "access_as_user"
  },

  // ════════════════════════════════════════════════════════════════
  // Azure AI Foundry Agent Configuration (v2 Responses API)
  //
  // ProjectEndpoint: Your Foundry project's API endpoint.
  //   Format: https://<account>.services.ai.azure.com/api/projects/<project>
  //   Find this in Foundry portal → Project → Overview.
  //
  // ModelDeploymentName: The model used for orchestration (e.g. "chat4o").
  //
  // FabricConnectionId: Full ARM resource ID of the Fabric connection.
  //   Created in Foundry portal → Management center → Connected resources.
  //   Format: /subscriptions/{sub}/resourceGroups/{rg}/providers/...
  //
  // AgentName: Optional — reference a pre-configured named agent.
  //   If set, inline tools/model/instructions are not sent.
  //
  // ApiVersion: Foundry Responses API version.
  //   Docs: https://learn.microsoft.com/azure/ai-foundry/agents/how-to/tools/fabric
  // ════════════════════════════════════════════════════════════════
  "Foundry": {
    "ProjectEndpoint": "",
    "ModelDeploymentName": "chat4o",
    "FabricConnectionId": "",
    "AgentName": "FabricOboAgent",
    "ApiVersion": "2025-05-15-preview",
    "ResponseTimeoutSeconds": 180
  },

  // ════════════════════════════════════════════════════════════════
  // Entitlements — stub user-to-RepCode mappings
  //
  // Used by StubEntitlementService for advisory entitlement checks.
  // In production, replace with a real database lookup.
  // ════════════════════════════════════════════════════════════════
  "Entitlements": {
    "Users": [
      { "Upn": "usera@yourtenant.onmicrosoft.com", "RepCode": "REP001", "Role": "Advisor" },
      { "Upn": "userb@yourtenant.onmicrosoft.com", "RepCode": "REP002", "Role": "Advisor" }
    ]
  },

  // ════════════════════════════════════════════════════════════════
  // CORS — allowed origins for SPA / test clients
  // ════════════════════════════════════════════════════════════════
  // ════════════════════════════════════════════════════════════════
  // SPA Authentication — served to the frontend via /api/config
  //
  // These values are NOT secrets — they are public client IDs that
  // the SPA needs to configure MSAL.js. They are loaded at runtime
  // so nothing is hardcoded in the checked-in frontend source.
  // ════════════════════════════════════════════════════════════════
  "SpaAuth": {
    "TenantId": "",
    "SpaClientId": "",
    "ApiClientId": "",
    "TestUsers": [
      {
        "Label": "Test User A",
        "Upn": "usera@yourtenant.onmicrosoft.com",
        "Description": "REP001 \u2014 test user with RLS filter"
      },
      {
        "Label": "Test User B",
        "Upn": "userb@yourtenant.onmicrosoft.com",
        "Description": "REP002 \u2014 test user with RLS filter"
      }
    ]
  },

  "Cors": {
    "AllowedOrigins": [
      "http://localhost:3000",
      "http://localhost:5173"
    ]
  },

  // ════════════════════════════════════════════════════════════════
  // Logging — structured output with correlation IDs
  //
  // Set "FabricObo" namespace to Debug for detailed Foundry call logs.
  // ════════════════════════════════════════════════════════════════
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.Identity": "Warning",
      "FabricObo": "Debug"
    }
  },

  "AllowedHosts": "*"
}
